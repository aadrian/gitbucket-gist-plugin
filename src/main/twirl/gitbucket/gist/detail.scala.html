@(active: String,
  gist: gitbucket.gist.model.Gist,
  repositoryUrl: String,
  revision: String,
  files: Seq[(String, String)],
  editable: Boolean)(implicit context: gitbucket.core.controller.Context)
@import context._
@import gitbucket.core.view.helpers._
@import gitbucket.core.service.RepositoryService.RepositoryInfo
@gitbucket.core.html.main(if(gist.description.isEmpty) gist.repositoryName else gist.description){
  @gitbucket.gist.html.header(gist, editable)
  <div class="container body">
    @gitbucket.gist.html.menu(active, gist, repositoryUrl)
    <div style="margin-right: 180px;">
      <div style="margin-bottom: 10px;">
        @gist.description
      </div>
      @files.map { case (fileName, content) =>
        <table class="table table-bordered blobview">
          <tr>
            <th style="font-weight: normal;">
              @fileName
              <div class="pull-right">
                <a href="@path/gist/@gist.userName/@gist.repositoryName/raw/@revision/@fileName" class="btn btn-mini">Raw</a>
              </div>
            </th>
          </tr>
          <tr>
            <td>
              @if(isRenderable(fileName)){
                <div class="box-content markdown-body" style="border: none; padding-left: 16px; padding-right: 16px;">
                  @renderMarkup(List(fileName), content, "master", RepositoryInfo(
                    owner       = gist.userName,
                    name        = gist.repositoryName,
                    httpUrl     = "",
                    repository  = null,
                    issueCount  = 0,
                    pullCount   = 0,
                    commitCount = 0,
                    forkedCount = 0,
                    branchList  = Nil,
                    tags        = Nil,
                    managers    = Nil
                  ), false, false, true)
                </div>
              } else {
                <pre class="prettyprint linenums blob">@content</pre>
              }
            </td>
          </tr>
        </table>
      }
    </div>
  </div>
  <script>
  $(function(){
    $('#delete').click(function(){
      return confirm('Are you positive you want to delete this Gist?');
    });
  });
  </script>
}
